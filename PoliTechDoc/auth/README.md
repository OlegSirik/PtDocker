
# Accounts and data



### Введение

В многоуровневых страховых информационных системах часто возникает необходимость разделять бизнес-логику (портфели, продукты, договоры) и доступ пользователей к данным. Простое сопоставление «пользователь → права» быстро перестаёт работать, когда на систему выходят брокеры, маркетплейсы и крупные компании с разветвлённой структурой.

Для решения этой задачи используется account — базовая авторизационная единица.

### Что такое Account

Account — это анонимная функциональная сущность в дереве компании. Он:

существует независимо от конкретных физических пользователей;

наделён определёнными ролями и правами доступа;

может рассматриваться как контейнер для бизнес-сущностей: договоров, клиентов, комиссий, заявок;

в страховой системе часто приравнивается к страховому портфелю.

Таким образом, account — это "виртуальный субъект", от имени которого работают пользователи.

### Привязка пользователей

К одному account может быть привязано несколько логинов (учётных записей людей).\
Это даёт следующие преимущества:

несколько сотрудников могут работать с одним и тем же портфелем (например, отдел корпоративных продаж);

один пользователь может иметь доступ к нескольким account (например, агент ведёт несколько страховых портфелей);

при смене сотрудников нет необходимости изменять сам account — достаточно переназначить привязку логинов.

### Роли и права

У каждого account определяется набор ролей и прав, который определяет:

какие действия доступны (создание договора, изменение тарифа, просмотр аналитики);

какие продукты или клиенты входят в зону ответственности;

в каких границах действуют бизнес-ограничения (например, лимиты по сумме комиссий или тарифам).

Таким образом, права назначаются на account, а пользователи наследуют эти права через привязку к нему.

### Account в дереве компании

Account встроен в иерархию компании:

на верхнем уровне могут быть глобальные account (например, маркетплейс в целом);

ниже — account брокеров или филиалов;

ещё ниже — account отдельных портфелей или команд.

Такое дерево позволяет:

централизованно контролировать права и настройки;

гибко делегировать доступ и ответственность;

агрегировать статистику и отчёты по уровням.

### Account как портфель

В страховании account можно рассматривать как портфель:

в него входят договоры, клиенты, продукты;

к нему привязаны пользователи (агенты, менеджеры);

на уровне account настраиваются комиссии, лимиты и права;

статистика строится по account (объём премий, убытки, доходность).

Это позволяет бизнесу мыслить привычными категориями: портфель клиента = account в системе.

### Преимущества модели

Гибкость управления доступом\
Роли и права настраиваются для account, а пользователи просто подключаются к ним.

Масштабируемость\
Дерево account позволяет описывать структуры от малых агентств до крупных холдингов.

Устойчивость к изменениям персонала\
При смене сотрудников не нарушается бизнес-логика.

Прозрачная отчетность\
Все операции и результаты аккумулируются на уровне account (портфеля).
