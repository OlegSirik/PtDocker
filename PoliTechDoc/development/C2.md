┌─────────────────────────────────────────────────────────────────────────────────────────┐
│                                    PoliTechAPI System                                    │
│                                   (Spring Boot Application)                              │
└─────────────────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────────────────┐
│                                      pt-launcher                                         │
│                              [Main Application / REST API]                               │
│  ┌─────────────────┐ ┌─────────────────┐ ┌─────────────────┐ ┌─────────────────┐        │
│  │ SalesController │ │ProductController│ │CalculatorCtrl   │ │ FileController  │        │
│  └────────┬────────┘ └────────┬────────┘ └────────┬────────┘ └────────┬────────┘        │
│  ┌─────────────────┐ ┌─────────────────┐ ┌─────────────────┐ ┌─────────────────┐        │
│  │ AuthController  │ │AccountMgmtCtrl  │ │ClientMgmtCtrl   │ │ TenantMgmtCtrl  │        │
│  └────────┬────────┘ └────────┬────────┘ └────────┬────────┘ └────────┬────────┘        │
│  ┌─────────────────┐ ┌─────────────────┐ ┌─────────────────┐                            │
│  │ LobController   │ │DashboardCtrl    │ │ LoginMgmtCtrl   │                            │
│  └────────┬────────┘ └────────┬────────┘ └────────┬────────┘                            │
└───────────┼─────────────────────────────────────────────────────────────────────────────┘
            │
            ▼
┌─────────────────────────────────────────────────────────────────────────────────────────┐
│                                        pt-api                                            │
│                            [API Contracts / Interfaces / DTOs]                           │
│  ┌───────────────────────────────────────────────────────────────────────────────────┐  │
│  │  Interfaces: AccountService, ProductService, CalculatorService, FileService,      │  │
│  │  StorageService, ValidatorService, CoefficientService, NumberGeneratorService,    │  │
│  │  PreProcessService, PostProcessService, AuthorizationService, LobService          │  │
│  └───────────────────────────────────────────────────────────────────────────────────┘  │
│  ┌───────────────────────────────────────────────────────────────────────────────────┐  │
│  │  DTOs: Account, Client, Tenant, Product, ProductRole, Policy, ProcessResult,      │  │
│  │  CalculationResult, ValidationResult, FileInfo, AccountLogin, AccountToken        │  │
│  └───────────────────────────────────────────────────────────────────────────────────┘  │
└─────────────────────────────────────────────────────────────────────────────────────────┘
            │
            ▼
┌─────────────────────────────────────────────────────────────────────────────────────────┐
│                                  Service Implementations                                 │
├────────────────────┬────────────────────┬────────────────────┬──────────────────────────┤
│                    │                    │                    │                          │
│  ┌──────────────┐  │  ┌──────────────┐  │  ┌──────────────┐  │  ┌──────────────────┐   │
│  │   pt-auth    │  │  │  pt-product  │  │  │  pt-process  │  │  │   pt-calculator  │   │
│  │ [Auth Module]│  │  │[Product Mgmt]│  │  │ [Processing] │  │  │  [Calculations]  │   │
│  ├──────────────┤  │  ├──────────────┤  │  ├──────────────┤  │  ├──────────────────┤   │
│  │AccountService│  │  │ProductService│  │  │ProcessOrches-│  │  │CalculatorService│   │
│  │AccountData   │  │  │LobService    │  │  │tratorService │  │  │CoefficientSvc   │   │
│  │AccountToken  │  │  │VersionMgr   │  │  │PreProcessSvc │  │  │                  │   │
│  │AccountLogin  │  │  │              │  │  │PostProcessSvc│  │  │                  │   │
│  │ClientService │  │  │              │  │  │ValidatorSvc  │  │  │                  │   │
│  │TenantService │  │  │              │  │  │FileProcessSvc│  │  │                  │   │
│  │Authorization │  │  │              │  │  │              │  │  │                  │   │
│  │SimpleAuth    │  │  │              │  │  │              │  │  │                  │   │
│  │LoginMgmt     │  │  │              │  │  │              │  │  │                  │   │
│  └──────┬───────┘  │  └──────┬───────┘  │  └──────┬───────┘  │  └────────┬─────────┘   │
│         │          │         │          │         │          │           │             │
├─────────┼──────────┼─────────┼──────────┼─────────┼──────────┼───────────┼─────────────┤
│         │          │         │          │         │          │           │             │
│  ┌──────┴───────┐  │  ┌──────┴───────┐  │  ┌──────┴───────┐  │  ┌────────┴─────────┐   │
│  │    pt-db     │  │  │   pt-files   │  │  │  pt-numbers  │  │  │   pt-payments    │   │
│  │  [Storage]   │  │  │   [Files]    │  │  │ [Numbering]  │  │  │   [Payments]     │   │
│  ├──────────────┤  │  ├──────────────┤  │  ├──────────────┤  │  ├──────────────────┤   │
│  │DbStorageServ │  │  │FileServiceImp│  │  │DatabaseNumber│  │  │PolicyPurchase    │   │
│  │RefDataService│  │  │EmailGateSvc  │  │  │GeneratorSvc  │  │  │CallbackService   │   │
│  │PolicyProject │  │  │              │  │  │RestNumberGen │  │  │YoukassaClient    │   │
│  │              │  │  │              │  │  │              │  │  │VskPaymentClient  │   │
│  └──────┬───────┘  │  └──────┬───────┘  │  └──────┬───────┘  │  └────────┬─────────┘   │
│         │          │         │          │         │          │           │             │
└─────────┼──────────┴─────────┼──────────┴─────────┼──────────┴───────────┼─────────────┘
          │                    │                    │                      │
          ▼                    ▼                    ▼                      ▼
┌─────────────────────────────────────────────────────────────────────────────────────────┐
│                                    Data Layer                                            │
├──────────────────┬──────────────────┬──────────────────┬────────────────────────────────┤
│  ┌────────────┐  │  ┌────────────┐  │  ┌────────────┐  │  ┌────────────────────────┐   │
│  │ PostgreSQL │  │  │File System │  │  │  Keycloak  │  │  │ External Payment APIs  │   │
│  │  Database  │  │  │  / S3      │  │  │   (IAM)    │  │  │ (Youkassa, VSK)        │   │
│  └────────────┘  │  └────────────┘  │  └────────────┘  │  └────────────────────────┘   │
└──────────────────┴──────────────────┴──────────────────┴────────────────────────────────┘


Module Dependencies Summary
Module	Purpose	Key Services	Dependencies
pt-launcher	REST API entry point	Controllers	All modules
pt-api	Contracts & DTOs	Interfaces	None (pure API)
pt-auth	Authentication/Authorization	AccountService, ClientService, TenantService, AuthorizationService	pt-api
pt-product	Product catalog management	ProductService, LobService, VersionManager	pt-api
pt-process	Business processing	ProcessOrchestrator, Validator, PreProcess, PostProcess	pt-api, pt-calculator, pt-db
pt-calculator	Tariff calculations	CalculatorService, CoefficientService	pt-api
pt-db	Policy storage	DbStorageService, RefDataService	pt-api
pt-files	File & email handling	FileService, EmailGateService	pt-api
pt-numbers	Number generation	NumberGeneratorService	pt-api
pt-payments	Payment integration	YoukassaClient, VskClient	pt-api
Data Flow
Client Request → pt-launcher (Controller) → Security Filter → pt-auth (Authorization)
Business Logic → pt-process (Orchestrator) → pt-calculator + pt-product
Storage → pt-db (Policies) + pt-files (Documents)
External → pt-payments (Payment gateways) + pt-auth (Keycloak)