# Модель RBAC

## Обзор
Система использует управление доступом на основе ролей (RBAC) в качестве
механизма грубой (coarse-grained) авторизации.

RBAC отвечает на вопрос:
«Разрешено ли этому субъекту выполнять это действие в принципе?»

## Основные понятия

### Роль
Роль представляет собой именованный набор разрешений.
Примеры:
- АНДЕРРАЙТЕР
- ОПЕРАТОР
- АДМИНИСТРАТОР

### Ресурс
Логический объект системы.
Примеры:
- полис
- клиент
- платеж
- пользователь

### Действие
Операция, которую можно выполнить над ресурсом.
Примеры:
- создание
- чтение
- обновление
- удаление
- выпуск
- оплата

## Код разрешения
Разрешение определяется как: <resource>:<action>

~~~
policy:create
policy:issue
payment:refund
~~~

## Модель хранения
Permissions хранятся в JSON массиве, связаном с ролью.
Список ролей в системе порядка 10.
RBAC data загружается при старте сервиса и кешируется в памяти.

## Scope Mapping
Each permission code maps 1:1 to an OAuth2 scope
and a Spring Security GrantedAuthority.